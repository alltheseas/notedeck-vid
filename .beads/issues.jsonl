{"id":"notedeck-21m","title":"Android video: Show preview frame before play","description":"Decode first frame on load without starting playback, so users see a thumbnail preview instead of black/placeholder before clicking play","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T03:01:44.390179-06:00","created_by":"e","updated_at":"2025-12-30T03:56:26.259929-06:00","closed_at":"2025-12-30T03:56:26.259929-06:00","close_reason":"Preview frame shows via decode_loop preview loop"}
{"id":"notedeck-3wk","title":"notedeck-e33","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T23:07:38.978843-06:00","created_by":"e","updated_at":"2025-12-29T23:42:56.380324-06:00","closed_at":"2025-12-29T23:42:56.380324-06:00","close_reason":"NOT PURSUED: egui 0.33 upgrade doesn't solve objc2 conflict."}
{"id":"notedeck-4rf","title":"notedeck-avf","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T23:19:53.423096-06:00","created_by":"e","updated_at":"2025-12-29T23:42:40.760746-06:00","closed_at":"2025-12-29T23:42:40.760746-06:00","close_reason":"BLOCKED: objc2 version conflict in damus-io egui fork. Code preserved for future use. Using FFmpeg for now."}
{"id":"notedeck-ari","title":"Backport objc2 0.6 to winit 0.30.8","description":"Cherry-pick objc2 0.6 changes from damus-io/winit onto 0.30.8 branch.\n\n## Goal\nEnable AVPlayer streaming decoder by unifying on objc2 0.6.x\n\n## Approach\n1. Fork damus-io/winit at 0.30.8 commit (a07ea4c4)\n2. Cherry-pick objc2 0.6 commit (953d9b4)\n3. Fix any compile errors\n4. Test with notedeck\n\n## Success Criteria\n- App compiles with unified objc2 0.6\n- App runs without crashes\n- Streaming decoder works for remote URLs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T22:59:01.727195-06:00","created_by":"e","updated_at":"2025-12-29T23:42:56.232825-06:00","closed_at":"2025-12-29T23:42:56.232825-06:00","close_reason":"ABANDONED: Cherry-pick had 17 conflicts. Using FFmpeg streaming instead."}
{"id":"notedeck-crk","title":"Android video: Mute button does not work","description":"Mute button in video controls has no effect on Android. Audio continues to play when mute is toggled. Need to wire mute control to ExoPlayer audio.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-30T03:02:01.951729-06:00","created_by":"e","updated_at":"2025-12-30T03:56:26.19979-06:00","closed_at":"2025-12-30T03:56:26.19979-06:00","close_reason":"Mute button working via DecodeThread.set_muted() to ExoPlayer"}
{"id":"notedeck-dqs","title":"Implement AVPlayer streaming decoder for macOS","description":"Implement AVPlayer-based streaming video decoder for macOS.\n\n## Why\nCurrent AVAssetReader approach requires downloading entire video before playback.\nAVPlayer supports native streaming with automatic buffering.\n\n## Key APIs\n- AVPlayer + AVPlayerItem: Playback control\n- AVPlayerItemVideoOutput: Frame extraction via copyPixelBufferForItemTime\n- Buffering: isPlaybackLikelyToKeepUp, loadedTimeRanges\n\n## Architecture\nSame channel-based thread pattern as existing MacOSVideoDecoder.\nSeparate streaming thread owns all AVFoundation objects.\n\n## Files\n- NEW: crates/notedeck/src/media/macos_streaming.rs\n- MOD: crates/notedeck/src/media/mod.rs\n- MOD: crates/notedeck/src/media/video_player.rs\n\nSee docs/avplayer-streaming-plan.md for full plan.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T22:32:30.869623-06:00","created_by":"e","updated_at":"2025-12-29T23:42:56.31055-06:00","closed_at":"2025-12-29T23:42:56.31055-06:00","close_reason":"BLOCKED: objc2 ecosystem conflict. Code preserved in macos_streaming.rs. Using FFmpeg for streaming."}
{"id":"notedeck-o4t","title":"Wire playback controls (play/pause/seek/mute) to ExoPlayer JNI bridge","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T02:13:43.777809-06:00","created_by":"e","updated_at":"2025-12-30T03:56:26.288576-06:00","closed_at":"2025-12-30T03:56:26.288576-06:00","close_reason":"All playback controls wired and working"}
{"id":"notedeck-qyb","title":"Update VideoMetadata from JNI callbacks (width/height/duration)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T02:13:43.938882-06:00","created_by":"e","updated_at":"2025-12-30T03:56:26.317528-06:00","closed_at":"2025-12-30T03:56:26.317528-06:00","close_reason":"Fixed via SharedState and Box\u003cdyn\u003e forwarding"}
{"id":"notedeck-r1q","title":"Fix ExoPlayer thread safety - all calls must be on main thread","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-30T02:13:43.858196-06:00","created_by":"e","updated_at":"2025-12-30T03:56:26.343155-06:00","closed_at":"2025-12-30T03:56:26.343155-06:00","close_reason":"ExoPlayer calls use mainHandler.post() for thread safety"}
{"id":"notedeck-u6i","title":"VideoPlayer memory leak - InlineVideoPlayers accumulates without eviction","description":"InlineVideoPlayers in crates/notedeck_ui/src/note/media.rs stores VideoPlayer instances keyed by URL in egui temp memory and never evicts them. Each VideoPlayer holds decoder threads, audio threads, and GPU resources that linger for the entire app session. Fix: Add LRU eviction with idle timeout, or cleanup when notes leave viewport.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T02:24:17.709794-06:00","created_by":"e","updated_at":"2025-12-30T04:01:04.83817-06:00","closed_at":"2025-12-30T04:01:04.83817-06:00","close_reason":"LRU eviction with max 8 players, pause on scroll-out-of-view"}
{"id":"notedeck-wjq","title":"Android video: Seek bar not interactive","description":"Time position indicator not visible on seek bar. Cannot tap on scrollbar to fast forward or go back. Scrubbing may also be broken.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-30T03:01:44.471079-06:00","created_by":"e","updated_at":"2025-12-30T03:56:26.230739-06:00","closed_at":"2025-12-30T03:56:26.230739-06:00","close_reason":"Fixed by forwarding duration/dimensions through Box\u003cdyn\u003e"}
